# heap - 堆
> [堆 - 维基百科](https://zh.wikipedia.org/wiki/%E5%A0%86%E7%A9%8D)

计算机数据结构中，heap 是一种特殊的基于树的数据结构，是一种特殊的完全二叉树，它满足下面描述的堆属性。

由于堆是一种特殊的完全二叉树，因此，可以先理解完全树和二叉树。
- 二叉树： 任意节点小于（或大于）它的所有后裔，最小元（或最大元）在堆的根上（堆序性）[见](https://zh.wikipedia.org/wiki/%E4%BA%8C%E5%8F%89%E6%A0%91)。
- 完全树： 除了最底层，其他层的节点都被元素填满，且最底层尽可能地从左到右填入。

堆总是一棵完全树。且堆中的每一个节点都是一个完全树。因此，根据堆的节点与子节点的关系，可以将堆分为两种类型：

## `minHeap` - 最小堆
在一个最小堆中，如果P是C的一个父级节点，那么P的key(或value)应小于或等于C的对应值。
```
        [1]
        / \
      [2] [3]
      /   |  \
    [4]  [5]  [6]
```
用数组可表示为：
```ts
[
  { v: 1, p: null },
  { v: 2, p: 1 },
  { v: 3, p: 1 },
  { v: 4, p: 2 },
  { v: 5, p: 3 },
  { v: 6, p: 3 }
]
```

## `maxHeap` - 最大堆
在一个最大堆中，P的key(或value)大于C的对应值。
```
        [100]
        / \
      [20] [36]
      /    |  \
    [4]   [5]  [6]
```
用数组表示为：
``` ts
[
  { v: 100, p: null },
  { v: 20, p: 100 },
  { v: 36, p: 100 },
  { v: 4, p: 20 },
  { v: 5, p: 36 },
  { v: 6, p: 36 },
]
```

在堆“顶部”的没有父级节点的节点,被称之为根节点。

数据结构上支持的基本操作：

|操作	      |描述	               |时间复杂度|
|-         |-                   | -|
| build	   | 采用罗伯特·弗洛伊德提出的较快方式创建堆  | O(n) |
| insert	 | 向堆中插入一个新元素                  | O(log n) |
| update	 | 将新元素提升使其符合堆的性质           | O(log n) |
| get	     | 获取当前堆顶元素的值                  |	O(1) |
| delete	 | 删除堆顶元素                        | O(log n) |
| heapify	 | 使删除堆顶元素的堆再次成为堆           | O(log n) |
